namespace libLlama2.UnitTests;

public class QWeightTestData
{
    public uint zero;
    public uint[] zeros;
    public float[] scales;
    public uint[] weights;
    public float[] checks;

    public QWeightTestData()
    {
        zero = 1770678440;

        zeros = new uint[8] {
            8u, 10u, 8u, 6u, 10u, 8u, 9u, 6u
        };

        var scales = new uint[8] {
            0x3acb8000, 0x3a7f4000, 0x3aa62000, 0x3b24c000, 0x3a9b8000, 0x3a85e000, 0x3a98c000, 0x3a6c8000
        };
        this.scales = scales.Select(x => ToFloat(x)).ToArray();

        weights = new uint[128] {
            2055625336, 2091283621, 2271902056, 2556991371, 2559018153, 2287635082, 2525542603, 2008705014,
            2222360696, 2270532746, 2165144240, 2775361450, 2274007975, 3359086487, 2123868857, 1787140476,
            3132402155, 3379149740, 3135044556, 2594864475, 3398022569, 3064634600, 2631441133, 2561390795,
            2343344285, 2845096123,  144407178, 2863315644, 2901130217, 2878994891, 3132659880, 3437136107,
            2038011769, 2287442087, 2592695914, 1754818197, 3076294807, 2022266517, 2540284295, 1995016618,
            2290509464, 1754884744, 2593687657, 2807695479, 1786349417, 2509866681, 2305398937, 1737062777,
            1733882216, 1700157272, 1449481575, 2016765557,  894657862, 2256889173, 2304066391, 1162298709,
            1701266774, 1182229685, 1417115462,  125195637, 1719035735, 1381401175, 2523150166, 1483105897,
            2612897719, 3903498392, 3935808458, 2562105290, 2579024764, 2662103401, 2644224442, 3097217595,
            3667692215, 3616271018, 2626207129, 2308465612, 2875768027, 3920072873, 2053745544, 3467491459,
            2035874679, 1235830456, 2559084065, 1803253658, 2542377591, 1292592968, 1455917641, 1427953241,
            2240472759, 2790889898, 2827470983, 2260440488, 3280645000, 1739377002, 1486330060, 2005362551,
            1653311389, 3394940310, 2041281206, 2022128347, 2327399349, 1973012231, 2088067705,  946346665,
            2778307946, 1536525991, 2879073723, 2239063883, 1250477754, 3079063161, 2138602586, 1708110775,
            1682009988, 1494910569, 2422563716, 2002139299, 1737790771, 1913357926, 1482840181, 2201320260,
            1397970578, 2201498471, 2222291074, 2001490537, 1147630727,  947074407, 1383490936, 3934607689
        };

        var checks = new uint[1024] {
            0x00000000, 0xbacb8000, 0x3b4b8000, 0xbb98a000, 0xbb4b8000, 0x00000000, 0x3b4b8000, 0xbacb8000,
            0xbb98a000, 0x3b4b8000, 0xbbcb8000, 0xbacb8000, 0xbb4b8000, 0x3b4b8000, 0x3bcb8000, 0xbacb8000,
            0x00000000, 0xbb4b8000, 0x3acb8000, 0xbacb8000, 0x3b4b8000, 0xbb4b8000, 0xbacb8000, 0x00000000,
            0x3b98a000, 0x00000000, 0xbacb8000, 0x3acb8000, 0x00000000, 0xbb4b8000, 0x00000000, 0x3acb8000,
            0x3acb8000, 0x3b4b8000, 0xbbcb8000, 0x00000000, 0xbacb8000, 0x00000000, 0x00000000, 0x3acb8000,
            0x3b4b8000, 0x00000000, 0x3b4b8000, 0x00000000, 0x3b4b8000, 0xbb98a000, 0x00000000, 0x00000000,
            0x3b98a000, 0x3bcb8000, 0x00000000, 0x3b98a000, 0x00000000, 0x00000000, 0xbb4b8000, 0x3acb8000,
            0xbb4b8000, 0x3c321000, 0xbacb8000, 0xbb4b8000, 0x3b4b8000, 0x3b98a000, 0xbacb8000, 0xbacb8000,
            0x00000000, 0xbacb8000, 0x00000000, 0x00000000, 0xbb4b8000, 0xbacb8000, 0xbbcb8000, 0x00000000,
            0x3b4b8000, 0x00000000, 0xbbcb8000, 0x3acb8000, 0xbb98a000, 0xbb98a000, 0xbacb8000, 0x00000000,
            0xbc4b8000, 0x3b98a000, 0x3b4b8000, 0xbacb8000, 0x3bfe6000, 0xbc4b8000, 0xbc321000, 0x00000000,
            0x3b4b8000, 0x3b4b8000, 0xbacb8000, 0x3b4b8000, 0x3bcb8000, 0xbb4b8000, 0xbb98a000, 0x3b4b8000,
            0xbacb8000, 0x3b4b8000, 0x3b98a000, 0x3acb8000, 0x3b4b8000, 0x00000000, 0xbacb8000, 0x00000000,
            0xbacb8000, 0x3acb8000, 0xbacb8000, 0x3acb8000, 0xbacb8000, 0xbbfe6000, 0x00000000, 0x3bcb8000,
            0x3acb8000, 0x3b98a000, 0x3b4b8000, 0x3b4b8000, 0xbacb8000, 0x3acb8000, 0x3c18a000, 0xbacb8000,
            0x3bcb8000, 0xbacb8000, 0x3acb8000, 0x3acb8000, 0xbb98a000, 0x00000000, 0x3b4b8000, 0xbb4b8000,
            0x3a7f4000, 0x3b7f4000, 0xba7f4000, 0x00000000, 0xbbbf7000, 0x3a7f4000, 0x00000000, 0x3a7f4000,
            0x3aff4000, 0x00000000, 0x3a7f4000, 0x3a7f4000, 0xba7f4000, 0xbb7f4000, 0xba7f4000, 0x3aff4000,
            0x3aff4000, 0x3aff4000, 0x3a7f4000, 0x3b9f8800, 0x3aff4000, 0x3b3f7000, 0x00000000, 0x3a7f4000,
            0x3a7f4000, 0xbb9f8800, 0x3b3f7000, 0xbb3f7000, 0x00000000, 0x00000000, 0x00000000, 0xba7f4000,
            0xba7f4000, 0x00000000, 0xbb9f8800, 0x3a7f4000, 0xba7f4000, 0xbaff4000, 0x00000000, 0x3aff4000,
            0xbaff4000, 0x3b7f4000, 0x3aff4000, 0xba7f4000, 0x00000000, 0x00000000, 0xbb7f4000, 0x3a7f4000,
            0x3b3f7000, 0x3b7f4000, 0x00000000, 0xba7f4000, 0xbaff4000, 0x3b3f7000, 0x3aff4000, 0xba7f4000,
            0x3a7f4000, 0x3aff4000, 0xbaff4000, 0x3a7f4000, 0x3a7f4000, 0x00000000, 0xbaff4000, 0xba7f4000,
            0x3b3f7000, 0xba7f4000, 0xbaff4000, 0xba7f4000, 0x3aff4000, 0x00000000, 0x3a7f4000, 0xbaff4000,
            0x3a7f4000, 0x3a7f4000, 0xbaff4000, 0x3a7f4000, 0xbbbf7000, 0xba7f4000, 0xba7f4000, 0x00000000,
            0x00000000, 0xbaff4000, 0x00000000, 0xbb3f7000, 0x3a7f4000, 0xba7f4000, 0xbaff4000, 0xbc1f8800,
            0x3aff4000, 0x3a7f4000, 0x00000000, 0x3a7f4000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
            0xba7f4000, 0x3b7f4000, 0x3a7f4000, 0x3a7f4000, 0x3a7f4000, 0x3b7f4000, 0x3aff4000, 0x00000000,
            0x3a7f4000, 0x3aff4000, 0xba7f4000, 0x3b9f8800, 0xba7f4000, 0xba7f4000, 0x3a7f4000, 0x00000000,
            0xbaff4000, 0x00000000, 0xbaff4000, 0xba7f4000, 0xbaff4000, 0x3a7f4000, 0x00000000, 0x3a7f4000,
            0x3a7f4000, 0x3b7f4000, 0xbaff4000, 0xbaff4000, 0x3b7f4000, 0x3b3f7000, 0x3aff4000, 0x3aff4000,
            0x3aa62000, 0xbaa62000, 0xbaa62000, 0x3aa62000, 0x3aa62000, 0xbaa62000, 0x3aa62000, 0xbaa62000,
            0xbaa62000, 0x3b262000, 0x00000000, 0x3aa62000, 0xbaa62000, 0xbb793000, 0x00000000, 0x00000000,
            0x3b262000, 0xbb262000, 0xbb262000, 0xbb262000, 0x3aa62000, 0x00000000, 0x3b262000, 0x3aa62000,
            0xbb793000, 0x3aa62000, 0xbb262000, 0xbb262000, 0x00000000, 0x3aa62000, 0x00000000, 0xbb262000,
            0xbaa62000, 0x3aa62000, 0x00000000, 0x00000000, 0x3ba62000, 0xbb793000, 0xbaa62000, 0x3b793000,
            0xbb793000, 0x3aa62000, 0xbb262000, 0xbb793000, 0x3aa62000, 0x00000000, 0x00000000, 0xbaa62000,
            0xbaa62000, 0x00000000, 0x3aa62000, 0x3b262000, 0x3aa62000, 0xbb262000, 0xbaa62000, 0x3aa62000,
            0x3b262000, 0x3b262000, 0x3aa62000, 0x00000000, 0x3aa62000, 0x3bf93000, 0xbb262000, 0xbaa62000,
            0x00000000, 0x3aa62000, 0xbb262000, 0xbb262000, 0xbb262000, 0x00000000, 0x00000000, 0x00000000,
            0x00000000, 0x00000000, 0x3b262000, 0xbb262000, 0x3aa62000, 0x3aa62000, 0x00000000, 0xbb262000,
            0x3aa62000, 0xbb262000, 0x00000000, 0x00000000, 0x00000000, 0x3aa62000, 0x3b262000, 0x3aa62000,
            0xbaa62000, 0xbaa62000, 0x00000000, 0xbc262000, 0x3b262000, 0xbb793000, 0xbaa62000, 0x3b262000,
            0x3aa62000, 0xbb262000, 0xbaa62000, 0x00000000, 0x3aa62000, 0xbaa62000, 0x3b262000, 0xbb262000,
            0x3aa62000, 0x3b793000, 0xbb262000, 0x00000000, 0x3aa62000, 0x3aa62000, 0xbb793000, 0x3aa62000,
            0x3aa62000, 0x3aa62000, 0x00000000, 0x3aa62000, 0x3aa62000, 0xbb262000, 0x3aa62000, 0x00000000,
            0x3aa62000, 0xbaa62000, 0x3aa62000, 0xbaa62000, 0x3aa62000, 0x00000000, 0xbaa62000, 0xbb262000,
            0x3ba4c000, 0x00000000, 0xbc4df000, 0x3cb95800, 0x3ba4c000, 0xbb24c000, 0x3b24c000, 0x00000000,
            0x3ba4c000, 0xbb24c000, 0x3b24c000, 0xbb24c000, 0x00000000, 0xbb24c000, 0xbb24c000, 0x00000000,
            0x3b24c000, 0x00000000, 0xbb24c000, 0xbb24c000, 0xbb24c000, 0x00000000, 0x00000000, 0xbb24c000,
            0xbb24c000, 0x3b24c000, 0x00000000, 0x00000000, 0xbb24c000, 0xbbf72000, 0x3ba4c000, 0x3b24c000,
            0x00000000, 0xbba4c000, 0xbb24c000, 0x00000000, 0xbbf72000, 0xbb24c000, 0xbb24c000, 0xbbf72000,
            0xbb24c000, 0xbb24c000, 0xbb24c000, 0x00000000, 0xbb24c000, 0x3ba4c000, 0x00000000, 0x3ba4c000,
            0x3b24c000, 0xbb24c000, 0xbbf72000, 0xbba4c000, 0xbb24c000, 0xbb24c000, 0x3bf72000, 0x3ba4c000,
            0xbb24c000, 0xbb24c000, 0xbb24c000, 0xbba4c000, 0x3b24c000, 0xbba4c000, 0xbb24c000, 0xbba4c000,
            0x00000000, 0xbb24c000, 0xbb24c000, 0xbba4c000, 0x3b24c000, 0x00000000, 0xbb24c000, 0x00000000,
            0xbb24c000, 0x3c4df000, 0xbba4c000, 0x00000000, 0x3b24c000, 0x3b24c000, 0x00000000, 0xbba4c000,
            0x00000000, 0xbba4c000, 0x3b24c000, 0x3b24c000, 0x3b24c000, 0x3b24c000, 0xbba4c000, 0xbb24c000,
            0xbb24c000, 0x3b24c000, 0xbb24c000, 0xbb24c000, 0x00000000, 0x3b24c000, 0x3b24c000, 0xbc772000,
            0x3b24c000, 0xbb24c000, 0x3b24c000, 0x00000000, 0x00000000, 0x3b24c000, 0x00000000, 0x00000000,
            0x3b24c000, 0xbb24c000, 0xbc24c000, 0x3ba4c000, 0x00000000, 0xbb24c000, 0xbc24c000, 0xbb24c000,
            0x00000000, 0xbb24c000, 0x3b24c000, 0xbbf72000, 0xbba4c000, 0x00000000, 0x00000000, 0x3bf72000,
            0x3bf72000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x3ba4c000, 0xbb24c000,
            0xbb694000, 0x3a9b8000, 0xbb694000, 0x00000000, 0x3b694000, 0x3a9b8000, 0x3a9b8000, 0xba9b8000,
            0xbb1b8000, 0xba9b8000, 0xbb1b8000, 0x00000000, 0x00000000, 0x00000000, 0xbb1b8000, 0x3b9b8000,
            0x00000000, 0x3b1b8000, 0x3a9b8000, 0x00000000, 0xbb694000, 0xba9b8000, 0x00000000, 0x3b9b8000,
            0x00000000, 0x3b1b8000, 0x3bc26000, 0xba9b8000, 0xbb9b8000, 0x3a9b8000, 0xbb1b8000, 0xba9b8000,
            0x3b1b8000, 0xbb694000, 0x3a9b8000, 0x3b1b8000, 0xbb1b8000, 0x3a9b8000, 0xba9b8000, 0xba9b8000,
            0xba9b8000, 0xbb9b8000, 0xba9b8000, 0xbb694000, 0x3b1b8000, 0x00000000, 0x3b9b8000, 0xba9b8000,
            0x00000000, 0x3a9b8000, 0xba9b8000, 0x00000000, 0x3a9b8000, 0xba9b8000, 0x3b694000, 0xba9b8000,
            0x3a9b8000, 0xbc081000, 0x00000000, 0x3b1b8000, 0x3a9b8000, 0xba9b8000, 0xbb1b8000, 0x3a9b8000,
            0xbb694000, 0x3a9b8000, 0x00000000, 0xbb1b8000, 0x3b1b8000, 0xba9b8000, 0x00000000, 0x3b694000,
            0x00000000, 0x00000000, 0x00000000, 0x3b9b8000, 0x3a9b8000, 0xbb1b8000, 0xbb694000, 0x3b694000,
            0xba9b8000, 0xba9b8000, 0x3b694000, 0x3a9b8000, 0xbb1b8000, 0xbb1b8000, 0x3b1b8000, 0xba9b8000,
            0x3b1b8000, 0x3b1b8000, 0xbc081000, 0xbb9b8000, 0xbb1b8000, 0xba9b8000, 0xba9b8000, 0xbb1b8000,
            0x3a9b8000, 0x3b694000, 0x3b1b8000, 0x3a9b8000, 0xbb1b8000, 0xbb9b8000, 0x3a9b8000, 0x00000000,
            0xba9b8000, 0x00000000, 0xbc426000, 0xba9b8000, 0xbb694000, 0x00000000, 0xba9b8000, 0x3b9b8000,
            0xbb1b8000, 0xbb1b8000, 0x3a9b8000, 0x00000000, 0xba9b8000, 0xbb9b8000, 0x00000000, 0xbb694000,
            0xbc081000, 0xbb1b8000, 0xbb1b8000, 0x3a9b8000, 0x3b694000, 0x00000000, 0x3b9b8000, 0x3b1b8000,
            0xba85e000, 0xba85e000, 0x3b48d000, 0x3bea4800, 0x00000000, 0xbb48d000, 0x3a85e000, 0xba85e000,
            0x00000000, 0x3b48d000, 0xbb05e000, 0xbb85e000, 0x3a85e000, 0x3b05e000, 0x3a85e000, 0xbb85e000,
            0xbbea4800, 0xbbc8d000, 0xbb05e000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x3a85e000,
            0x3b05e000, 0x3a85e000, 0xba85e000, 0xba85e000, 0x3b48d000, 0xba85e000, 0x3b48d000, 0xbb05e000,
            0xba85e000, 0xba85e000, 0x3b05e000, 0x3a85e000, 0x3a85e000, 0x00000000, 0xba85e000, 0x3a85e000,
            0x00000000, 0xbb85e000, 0xba85e000, 0xbb05e000, 0x3b48d000, 0xbc05e000, 0x3ba75800, 0xbb85e000,
            0x3a85e000, 0xbb85e000, 0x3b05e000, 0x00000000, 0xba85e000, 0x3b85e000, 0xbb05e000, 0xbb48d000,
            0x3a85e000, 0xbb48d000, 0xbb05e000, 0x3ba75800, 0x3b85e000, 0xbbea4800, 0xbb48d000, 0xbb48d000,
            0xba85e000, 0x3b48d000, 0xbb05e000, 0x3bc8d000, 0x3b05e000, 0x00000000, 0xbb48d000, 0x00000000,
            0x3b05e000, 0x3b05e000, 0x3a85e000, 0x3a85e000, 0x3a85e000, 0xbb48d000, 0xbb05e000, 0x3b05e000,
            0xba85e000, 0x00000000, 0x00000000, 0x3b85e000, 0xba85e000, 0x00000000, 0x00000000, 0x3b05e000,
            0x00000000, 0x3b05e000, 0xbb48d000, 0x3a85e000, 0x3b48d000, 0x3b48d000, 0xbb05e000, 0x00000000,
            0x00000000, 0x00000000, 0x3b48d000, 0x3b05e000, 0x3b05e000, 0x00000000, 0xbba75800, 0x3b85e000,
            0x3b05e000, 0xbb05e000, 0x3a85e000, 0x3b85e000, 0x3b85e000, 0x3b05e000, 0xba85e000, 0xbb05e000,
            0x3b85e000, 0x3b85e000, 0x00000000, 0x3a85e000, 0xba85e000, 0x3a85e000, 0x00000000, 0xbb48d000,
            0xba85e000, 0xba85e000, 0xba85e000, 0xbb05e000, 0xba85e000, 0x00000000, 0xba85e000, 0xba85e000,
            0x3b98c000, 0x00000000, 0xbb18c000, 0xba98c000, 0x3b18c000, 0xba98c000, 0xbc05a800, 0xbb652000,
            0xbb652000, 0x00000000, 0x3b98c000, 0x3a98c000, 0x3a98c000, 0xbb98c000, 0x3a98c000, 0x3b652000,
            0xbb652000, 0x3b18c000, 0x3a98c000, 0xbb18c000, 0x3b18c000, 0x3a98c000, 0x00000000, 0xbb18c000,
            0x3b18c000, 0x3b98c000, 0x3a98c000, 0xbbe52000, 0xbb18c000, 0xba98c000, 0xba98c000, 0xbb18c000,
            0xbb98c000, 0x3b18c000, 0x3b18c000, 0xbbbef000, 0x00000000, 0x3b18c000, 0x3a98c000, 0xba98c000,
            0xbb18c000, 0xbc2bd800, 0xbb18c000, 0x3b652000, 0x00000000, 0x00000000, 0xbb98c000, 0xbb18c000,
            0x00000000, 0xbb18c000, 0xbc05a800, 0xbb652000, 0xbb98c000, 0xbb18c000, 0x3b652000, 0xbb18c000,
            0x00000000, 0x3a98c000, 0x3a98c000, 0xbc18c000, 0xba98c000, 0xbb652000, 0xba98c000, 0xbbe52000,
            0x3a98c000, 0xbb652000, 0x3b98c000, 0x00000000, 0x00000000, 0x00000000, 0xbb98c000, 0x3a98c000,
            0xbb18c000, 0x3a98c000, 0xbb652000, 0xba98c000, 0xbb98c000, 0x00000000, 0x3b18c000, 0xbb98c000,
            0x3b18c000, 0x3b18c000, 0x3b98c000, 0xbc05a800, 0x3b18c000, 0x00000000, 0x3b18c000, 0x3a98c000,
            0x3b18c000, 0xbbbef000, 0xbb18c000, 0xbb652000, 0xbb98c000, 0xbb18c000, 0xbb98c000, 0xba98c000,
            0x3a98c000, 0x3b18c000, 0xbb652000, 0x3b652000, 0xba98c000, 0xba98c000, 0x3a98c000, 0xbbbef000,
            0x00000000, 0xbb18c000, 0xbb652000, 0x3b652000, 0xbb652000, 0xba98c000, 0xbb18c000, 0x3b18c000,
            0x3a98c000, 0xbb98c000, 0x3b652000, 0xbb18c000, 0xba98c000, 0xbb18c000, 0x3be52000, 0xbb18c000,
            0xbb18c000, 0x3b18c000, 0xbbe52000, 0x3b18c000, 0x3be52000, 0x3b652000, 0xbb98c000, 0xbb652000,
            0xbaec8000, 0x3aec8000, 0x3c050800, 0x00000000, 0xbb93d000, 0xbaec8000, 0xbaec8000, 0x00000000,
            0x3b316000, 0x00000000, 0x00000000, 0x3aec8000, 0x3b6c8000, 0xbb93d000, 0x3b316000, 0xba6c8000,
            0xbaec8000, 0x3aec8000, 0xbb316000, 0x00000000, 0xba6c8000, 0x00000000, 0xbbb16000, 0x3b316000,
            0xbb316000, 0x3b6c8000, 0x3aec8000, 0xbb316000, 0x00000000, 0xba6c8000, 0x3a6c8000, 0x3a6c8000,
            0xbb316000, 0xbb316000, 0xba6c8000, 0x3b316000, 0xbaec8000, 0x3b316000, 0x3a6c8000, 0x00000000,
            0x00000000, 0x00000000, 0x00000000, 0x3aec8000, 0x3b93d000, 0xbbb16000, 0xbb6c8000, 0x3a6c8000,
            0xba6c8000, 0x3a6c8000, 0x3aec8000, 0xba6c8000, 0xbb6c8000, 0x00000000, 0x3aec8000, 0xba6c8000,
            0xbaec8000, 0xbaec8000, 0x3b93d000, 0x3a6c8000, 0xba6c8000, 0xbb316000, 0xbb316000, 0x3aec8000,
            0xbb6c8000, 0x3b316000, 0x00000000, 0xba6c8000, 0xbb316000, 0xba6c8000, 0xbb316000, 0xba6c8000,
            0x3a6c8000, 0x00000000, 0xbb316000, 0xbb316000, 0x3aec8000, 0xbb316000, 0xbb316000, 0x3aec8000,
            0xbb6c8000, 0x3aec8000, 0x3aec8000, 0x3a6c8000, 0xba6c8000, 0x3a6c8000, 0xbaec8000, 0x3aec8000,
            0x3b316000, 0x00000000, 0xbb6c8000, 0xba6c8000, 0x3bb16000, 0xbaec8000, 0x3a6c8000, 0x3a6c8000,
            0x3a6c8000, 0x3aec8000, 0xbaec8000, 0x3a6c8000, 0x3a6c8000, 0x00000000, 0xbaec8000, 0xbaec8000,
            0x3a6c8000, 0x00000000, 0xba6c8000, 0xbb316000, 0xbb316000, 0x3a6c8000, 0x3aec8000, 0xbb316000,
            0x3aec8000, 0x3a6c8000, 0xba6c8000, 0x00000000, 0x00000000, 0x3a6c8000, 0xbb6c8000, 0xba6c8000,
            0x3b316000, 0xbaec8000, 0x3b316000, 0xba6c8000, 0xba6c8000, 0x3aec8000, 0x3b6c8000, 0x3bec8000
        };
        this.checks = checks.Select(x => ToFloat(x)).ToArray();
    }
    private static float ToFloat(uint i) => BitConverter.ToSingle(BitConverter.GetBytes(i), 0);
}
